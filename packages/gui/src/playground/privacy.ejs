<!doctype html>
<html lang="en">
    <head>
        <title><%= htmlWebpackPlugin.options.APP_NAME %> Privacy Policy</title>
        <meta charset="utf8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <style>
            body {
                font-family:
                    "Inter Variable", "Helvetica Neue", Helvetica, Arial,
                    sans-serif;
                margin: 0;
                padding: 0;
                background: var(--page-background, white);
                color: var(--page-foreground, black);
            }
            h2, h3 {
                text-align: left !important;
            }
            header {
                background-color: var(--motion-tertiary, #59c059);
                color: white;
                text-align: center;
                padding: 20px 0;
            }
            main {
                max-width: 600px;
                margin: auto;
            }
            p {
                margin-bottom: 8px;
            }
            @media (prefers-color-scheme: dark) {
                body {
                    background: var(--page-background, #111);
                    color: var(--page-foreground, #eee);
                }
                a {
                    color: var(--motion-primary, var(--link-color, #4af));
                }
            }
        </style>
    </head>

    <body>
        <% /* "app" div is included so that the header and footer can be "hacked" into this page
             without making it inaccessible without JavaScript. */ %>
        <div id="app"></div>
        <header>
            <h1><%= htmlWebpackPlugin.options.APP_NAME %> Privacy Policy</h1>
        </header>

        <main>
            <!-- UPDATE THIS WHEN MAKING CONTENT CHANGES -->
            <p><i>Updated 13 December, 2025</i></p>

            <p>
                <b>The <%= htmlWebpackPlugin.options.APP_NAME %> project respects your privacy.</b> Every
                website says this, but we mean it: We aren't interested in your
                data. In the interest of full transparency, this document lists
                every place where your data might be collected or shared:
            </p>

            <h2><%= htmlWebpackPlugin.options.APP_NAME %> editor</h2>
            <% /* We only collect analytics in official builds on ampmod.codeberg.page (not including canary) */ %>
            <% if (htmlWebpackPlugin.options.isCbp) { %>
            <h3>Analytics</h3>
            <p>
                <%= htmlWebpackPlugin.options.APP_NAME %> uses Simple Analytics to get info about what pages are visited.
                <strong>No personal info is collected.</strong> Simple Analytics
                is fully compliant with the GDPR and other privacy laws.
            </p>
            <p>
                We do not collect analytics in embedded widgets placed on other sites. In that case, you are subject to the website's privacy policy.
            </p>
            <p>
                If you want to opt out, click the checkbox below.
            </p>

            <div>
              <label>
                <input type="checkbox" id="analyticsOptOut" />
                Disable analytics
              </label>
            </div>

            <h3>Cloud variables</h3>
            <% } %>
            <p>
                A randomly generated username may be saved in your browser. You
                can replace this with a custom username. Randomly generated
                usernames are anonymized (the random part is removed) before
                being sent to any cloud variable server.
            </p>

            <h2>Loading projects</h2>
            <p>
                When you load a project from another website, you are subject to
                the privacy practices of that website. For example, when loading
                projects from Scratch, you are subject to the
                <a href="https://scratch.mit.edu/privacy_policy"
                    >Scratch privacy policy</a
                >. When loading projects from Scratch specifically, the project
                ID will also be shared with TurboWarp as part of Scratch's API
                does not allow direct access. We may briefly log the project ID
                for caching.
            </p>

            <h2>Running projects</h2>
            <p>
                When connecting to our cloud variable servers, the project ID
                and username may be logged for 14 days. Data in cloud variables
                is sent to anyone else connected at the same time. Custom cloud
                variable servers are outside of our control.
            </p>
            <p>
                Some extensions must communicate with external APIs to function.
                For example, the translate and text-to-speech extensions rely on
                the Scratch API, which is covered by the
                <a href="https://scratch.mit.edu/privacy_policy"
                    >Scratch privacy policy</a
                >. To improve performance, some extensions access <%= htmlWebpackPlugin.options.APP_NAME %>'s
                APIs instead where both the request (for example, the text being
                translated) and the result after forwarding to Scratch (for
                example, the translated version of the text) may be cached.
            </p>
            <p>
                Most extensions on the
                <a href="https://ampmod.codeberg.page/extensions"
                    >official extension gallery</a
                >
                will ask for permission when the project attempts to use the
                extension to access an untrusted website, however we cannot
                guarantee this is 100% reliable.
            </p>
            <p>
                When loading a custom extension from a place other than the
                official gallery such as a URL or file on your computer, the
                editor will ask for permission to load the extension. If you
                approve this dialog, the extension can bypass the permission
                dialogs that official extensions show.
            </p>

            <h2>Settings</h2>
            <p>
                Many <%= htmlWebpackPlugin.options.APP_NAME %> websites, including the editor will store settings
                in your browser.
            </p>

            <!-- <h2><%= htmlWebpackPlugin.options.APP_NAME %> Desktop</h2>
            <p>
                <a href="https://desktop.<%= htmlWebpackPlugin.options.APP_NAME %>.org/"><%= htmlWebpackPlugin.options.APP_NAME %> Desktop</a>
                may make requests to check for updates. This can be disabled by
                pressing "Settings" then "Desktop Settings".
            </p>
            <p>
                <a href="https://desktop.<%= htmlWebpackPlugin.options.APP_NAME %>.org/"><%= htmlWebpackPlugin.options.APP_NAME %> Desktop</a>
                has a disabled-by-default option to enable "Rich Presence" which
                shares the name of the project you have open and how long it has
                been open with chat apps running on your computer, which may be
                displayed on your public profile. This can be disabled by
                pressing "Settings" then "Desktop Settings".
            </p> -->

            <!-- <h2><%= htmlWebpackPlugin.options.APP_NAME %> Packager</h2>
            <p>
                The
                <a href="https://packager.<%= htmlWebpackPlugin.options.APP_NAME %>.org/"><%= htmlWebpackPlugin.options.APP_NAME %> Packager</a>
                may store settings and cache large downloads such as Electron in
                your browser for convenience and performance.
            </p>
            <p>
                When packaging a project using custom extensions, the packager
                may access those websites to download the extensions.
            </p>

            <h2>Projects generated by the <%= htmlWebpackPlugin.options.APP_NAME %> Packager</h2>
            <p>
                Packaged projects include all scripts, costumes, and sounds to
                run the project. The packager tries to include all custom
                extensions too, but in some cases, the packaged project may need
                to download certain extensions each time it runs.
            </p>
            <p>
                Advanced features such as third-party custom extensions, custom
                cloud host, custom JS, and custom CSS are outside of our
                control.
            </p>
            <p>
                Note that, unlike the <%= htmlWebpackPlugin.options.APP_NAME %> editor, custom extensions in
                packaged projects will not ask for permission before contacting
                websites.
            </p>
            <p>
                You are responsible for informing end users about the privacy
                practices of the files you distribute. Do not link to this
                document as your project's privacy policy as it may change in
                the future. You must write your own.
            </p> -->

            <h2>Contact</h2>
            <p>
                Any concerns related to privacy or any other matter should be
                sent to:
                <a href="mailto:ampelectrecuted@gmail.com">ampelectrecuted@gmail.com</a>
            </p>
        </main>
        <div id="app-footer"></div>

        <script>
          const checkbox = document.getElementById('analyticsOptOut');

        if (checkbox) {
        // Initialize checkbox based on localStorage
        const optedOut = localStorage.getItem('amp:analytics-opted-out') === 'true';
        checkbox.checked = optedOut;

        // Update localStorage when checkbox changes
        checkbox.addEventListener('change', () => {
            if (checkbox.checked) {
                localStorage.setItem('amp:analytics-opted-out', 'true');
            } else {
                localStorage.removeItem('amp:analytics-opted-out');
            }
            console.log('Analytics opted out:', checkbox.checked);
        });
        }
        </script>
    </body>
</html>
